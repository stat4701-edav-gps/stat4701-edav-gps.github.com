<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Using NYC Building Data (2013) to predict multipath GPS error in NYC Taxi Data (2013)</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>Using NYC Building Data (2013) to predict multipath GPS error in NYC Taxi Data (2013)</h2>
					
					<p>
					By Team <a href="https://github.com/stat4701-edav-gps">REDS (link to our GitHub Organization)</a>
					</p>
				</section>

				<section>
					<p><i>Emilie intro</i></p> 
					<p>Use of global positioning system (GPS) technology has become a standard method of data collection in geographical epidemiology and public health studies.</p>
				</section>

				<section> 
					<p>However, in dense urban environments, GPS measurements are highly prone to error as signals bounce off large buildings and other structures.</p>
				</section>

				<section> 
					<p>Formally defined as multipath error, these reflections increase the distance that the GPS signal must travel to reach the receiverâ€”causing miscalculations in position.</p>
				</section>

				<section> 
					<p>Multipath problems can result in locations that seemingly wander or jump as the signal is dropped and regained.</p>
				</section>

				<section> 
					<img data-src="img/errordiagram.jpg" alt="error diagram">
				</section>

				<section> 
					<p>Although the error associated with these split second delays may seem negligible, the multipath phenomena can substantially impact positional accuracy and tracking measurements.</p>
				</section>
				<section> 
					<p>In order to evaluate the associations between urban density and GPS positional accuracy we used data from the New York City (NYC) Taxi and Limousine Commission containing information on the approximately 175 million NYC yellowcab taxi trips that occurred in 2013.</p>
				</section>

				<section> 
					<p>We hypothesized that higher building density would be positively associated with errors in accuracy.</p>
					<p><i>note: switch to Danny</i></p>
				</section>

				<section> 
					<p>My research group, <a href='http://beh.columbia.edu/' target='_blank'>the Built Environment and Health Project</a> has been using and seeing GPS and acceloremetry (sp?) data emerging in many health-related research studies.</p>
				</section>

				<section> 
					<p>We've noticed a lot of error in areas with high building density. So we've been sending students out on structured walks to better assess how the built environment influences GPS signal.</p>
				</section>

				<section> 
					<p>In two slides, we'll see two walks down two different streets (with low and high built density) in NYC (Bronx and Midtown Manhattan).</p>
				</section>				

				<section> 
					<p>Two students walked together each carrying two <a href='http://usglobalsat.com/p-25-dg-100-gpsdata-logger.aspx' target='_blank'>DG-100 GPS</a> devices and the <a href='http://runkeeper.com/'>RunKeeper</a> app on their smartphones.</p>

					<img data-src="img/dg100.jpg" alt="gps map">
				</section>

				<section> 
					<img data-src="img/gps_map_v02.png" alt="gps map">
				</section>

				<section> 
					<p>If researchers were assessing walking or traveled distance by using the raw GPS data they could potentially overestimate distance traveled by 3 times in areas of high multipath error.</p>
				</section>	

				<section> 
					<p>We've sent students on about 40 different walks stratified by the upper and lower quartiles of <strong>distributed building height</strong> (explained in later slides) and are planning on putting on some white paper type stuff providing recommendations on using GPS data for public health research and how you might want to use some GPS cleaning/snapping to streets methods.</p>
				</section>

				<section> 
					<p>The Taxi pickup and dropoff GPS data appeared to have the same error. So it seemed worthwhile and exciting to investigate it.</p>
				</section>

				<section> 
					<p><small>A map of all dropoff and pickup GPS points in 2013 (starts of trips in blue and the ends in orange on this map:) <a href='https://www.mapbox.com/blog/nyc-taxi/' target='_blank'>New York City taxi trips - Eric Fisher, Mapbox</a>. Note points in water and over where buildings are.</small></p>
					<iframe width="100%" height="500px" frameBorder="0" src="https://a.tiles.mapbox.com/v3/enf.ij1c2o4h.html?secure"></iframe></p>
				</section>

				<section> 
					<p><small><a href='http://nbviewer.ipython.org/github/nygeog/taxi/blob/master/tasks/201504_stat4701/03-csv-xy-intersect.ipynb' target='_blank'>iPython notebook to intersect the Census Blocks and Taxi Pickups and Dropoffs</a>, <a href='http://nbviewer.ipython.org/github/nygeog/taxi/blob/master/tasks/201504_stat4701/04-ogr-shp-to-csv.ipynb' target='_blank'>shapefile to csv (GDAL/OGR)</a>, <a href='http://nbviewer.ipython.org/github/nygeog/taxi/blob/master/tasks/201504_stat4701/05-combine-tables.ipynb' target='_blank'>combine tables </a>, and <a href='http://nbviewer.ipython.org/github/nygeog/taxi/blob/master/tasks/201504_stat4701/06-concat-master.ipynb' target='_blank'> concat master table.</a>
					</small></p>
					<iframe width='100%' height='650' frameborder='0' src='https://dms2203.cartodb.com/viz/7631a2b4-ed1e-11e4-8d21-0e018d66dc29/embed_map' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
				</section>

				<section> 
					<p>So our research question in plain english is: Can we predict multipath error in taxi pickup and dropoff GPS data using our <strong>Distributed Building Height</strong> measure?</p>
				</section>

				<section>
					<h1>Modeling Buildings...</h1>
				</section>

				<section>
					<h2>Data</h2>
					<ul>
						<li><a href='https://data.cityofnewyork.us/Housing-Development/Building-Footprints/tb92-6tj8' target='_blank'>NYC Building Footprints</a> 2013-09 release with Roof Height and Ground Elevation - these attributes are no longer available via Open Data - that's why its important to archive data.</li>
					  	<li><a href='http://www.nyc.gov/html/dcp/download/bytes/nycb2010_15a.zip' target='_blank'>NYC Census Blocks 2010</a> (I used v. 11a)</li>
					</ul>
				</section>

				<section>
					<h2>Assumptions and Limitations</h2>
					<ul>
						<li>All data used is publicly available.</li>
					  	<li>Buildings are extruded from the ground elevation to maximum height - building setbacks are not modeled with publicly available data.</li>
					</ul>
				</section>

				<section> 
					<small><pre><code>convert -delay 200 -loop 0 img/png/*.png img/gif/dist_bldg_hght_ani.gif #imagemagick-png to gif code</code></pre></small>
					<img data-src="img/dist_bldg_hght_ani.gif" alt="dist_bldg_hght_ani">
				</section>
				<section> 
					<iframe width='100%' height='650' frameborder='0' src='https://dms2203.cartodb.com/viz/ac88b602-ed20-11e4-aad3-0e018d66dc29/embed_map' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
				</section>

				<!-- Average Distance to Roadbed -->
				<section> 
					<iframe width='100%' height='650' frameborder='0' src='https://dms2203.cartodb.com/viz/717d07aa-ed22-11e4-95d1-0e9d821ea90d/embed_map' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
				</section>
				<section> 
					<iframe width='100%' height='650' frameborder='0' src='https://dms2203.cartodb.com/viz/afdd200a-ed5b-11e4-8727-0e018d66dc29/embed_map' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
				</section>

				<section> 
					<img data-src="img/bigquery_logo.png" alt="bigquery logo">
				</section>
				<section> 
					<img data-src="img/bigquery_results_taxi.png" alt="bigquery results taxi">
				</section>
				<section>
					<h2>Variables</h2>
					<small><ul>
						<li>tuid - Unique Taxi trip ID.</li>
						<li>dist_roadbed - distance to nearest roadbed, 0 is in roadbed.</li>
						<li>geoid - Unique Census Block ID.</li>
						<li>dist_bldg_hght - Distributed building height (meters), our predictor for causing error.</li>
						<li>type - p: pickup, d: dropoff location</li>
					</ul></small>
				</section>
				<section> 
					<img data-src="img/bigquery_results_blocks.png" alt="bigquery results blocks">
				</section>
				<section>
					<h2>Variables</h2>
					<small><ul>
						<li>geoid - Unique Census Block ID</li>
						<li>avgbrdist - Average Distance from Roadbed for taxi pickup and dropoff observations for 2013 in Census Block.</li>
						<li>medbrdist - Median Distance from Roadbed for taxi pickup and dropoff observations for 2013 in Census Block.</li> 
						<li>stdbrdist - Standard Deviation of Distance from Roadbed for taxi pickup and dropoff observations for 2013 in Census Block.</li> 
						<li>count - Count taxi pickup and dropoff observations for 2013 in Census Block.</li> 
						<li>areasqft - Area of Census Block in square feet.</li> 
						<li>countbldg - Count of Buildings in Census Block.</li>  
						<li>bldgareaft - Building footprint area in square feet in Census Block.</li>
						<li>pctcbbldg - Percent Census Block covered by building footprint.</li>
						<li>dist_bldg_hght - Distributed building height (meters), our predictor for causing error.</li>
					</ul></small>
				</section>
				<section> 
					<img data-src="img/bigquery_console.png" alt="bigquery console">
				</section>
<!-- 				<section data-markdown="section-1.md"  
         				data-separator="^\n\n\n"  
         				data-separator-vertical="^\n\n"  
         				data-separator-notes="^Note:"  
         				data-charset="iso-8859-15">
				</section> -->
				<section data-markdown="section-emily-1.md"  
         				data-separator="^\n\n\n"  
         				data-separator-vertical="^\n\n"  
         				data-separator-notes="^Note:"  
         				data-charset="iso-8859-15">
				</section>
<!-- 				<section data-markdown="section-2.md"  
         				data-separator="^\n\n\n"  
         				data-separator-vertical="^\n\n"  
         				data-separator-notes="^Note:"  
         				data-charset="iso-8859-15">
				</section>
				<section data-markdown="section-3.md"  
         				data-separator="^\n\n\n"  
         				data-separator-vertical="^\n\n"  
         				data-separator-notes="^Note:"  
         				data-charset="iso-8859-15">
				</section> -->

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
